# Python 获取颜色

本项目使用 OpenCV 和 HSV 色彩阈值提供了图像中形状和颜色检测的工具。包括用于处理图像、提取形状和分析颜色的脚本。

## 项目结构

- **`1.py`**: 
  - 读取图像和包含形状检测数据的 `.pos` 文件。
  - 根据 `.pos` 文件裁剪图像中的形状，并将它们保存为单独的图像。
  - 检测图像中的红色框并统计数量。

- **`2.py`**: 
  - 一个用于调整 HSV 阈值的 GUI 应用程序。
  - 允许用户加载图像，应用 HSV 掩码，并实时可视化结果。

- **`3.py`**: 
  - 使用 HSV 阈值和 `.pos` 文件中的形状数据处理图像。
  - 统计每种颜色的形状数量并输出结果。

- **`HSV.th`**: 
  - 包含各种颜色 HSV 阈值的配置文件。

- **`.gitignore`**: 
  - 指定版本控制中需要忽略的文件，例如 `.jpg` 文件。

- **`1.pos`** 和 **`2.pos`**: 
  - 示例文件，包含形状检测数据（坐标和置信度）。

## 使用方法

### 环境要求
- Python 3.x
- OpenCV (`cv2`)
- NumPy
- Tkinter (用于 GUI)
- PIL (Pillow)

### 运行脚本

1. **形状裁剪和红框检测 (`1.py`)**:
   - 将名为 `2.jpg` 的图像和 `.pos` 文件（例如 `2.pos`）放在同一目录下。
   - 运行脚本：
     ```bash
     python 1.py
     ```
   - 脚本会裁剪图像中的形状，并保存为 `cropped_0.jpg`、`cropped_1.jpg` 等。
   - 同时会检测并统计图像中的红色框。

2. **HSV 阈值调整 (`2.py`)**:
   - 运行脚本：
     ```bash
     python 2.py
     ```
   - 使用 GUI 加载图像，并通过滑块调整 HSV 阈值。
   - 结果会实时显示。

3. **颜色和形状分析 (`3.py`)**:
   - 确保 [HSV.th](http://_vscodecontentref_/0) 文件和 `.pos` 文件（例如 [1.pos](http://_vscodecontentref_/1)）在同一目录下。
   - 运行脚本：
     ```bash
     python 3.py
     ```
   - 脚本会分析图像并输出每种颜色的形状数量。

### 配置

- **HSV 阈值**:
  - 编辑 [HSV.th](http://_vscodecontentref_/2) 文件以调整不同颜色的 HSV 范围。

- **形状数据**:
  - 使用 `.pos` 文件提供形状检测数据。每行应包括形状类型、坐标、尺寸和置信度。

## 示例输出

### 来自 [3.py](http://_vscodecontentref_/3) 的输出：